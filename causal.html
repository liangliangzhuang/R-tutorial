<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 基础包 | 庄闪闪的可视化手册</title>
  <meta name="description" content="这是用R的bookdown功能制作中文图书的模板，输出格式为bookdown::gitbook和bookdown::pdf_book." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="1 基础包 | 庄闪闪的可视化手册" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="这是用R的bookdown功能制作中文图书的模板，输出格式为bookdown::gitbook和bookdown::pdf_book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 基础包 | 庄闪闪的可视化手册" />
  
  <meta name="twitter:description" content="这是用R的bookdown功能制作中文图书的模板，输出格式为bookdown::gitbook和bookdown::pdf_book." />
  

<meta name="author" content="庄闪闪" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="ggplot2-plot.html"/>
<script src="libs/header-attrs-2.7.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/SVG"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  }
});
</script>
<script type="text/javascript"
   src="../../../MathJax/MathJax.js">
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>简介</a></li>
<li class="chapter" data-level="1" data-path="causal.html"><a href="causal.html"><i class="fa fa-check"></i><b>1</b> 基础包</a>
<ul>
<li class="chapter" data-level="1.1" data-path="causal.html"><a href="causal.html#绘制基本图形"><i class="fa fa-check"></i><b>1.1</b> 绘制基本图形</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="causal.html"><a href="causal.html#绘制分布关系"><i class="fa fa-check"></i><b>1.1.1</b> 绘制分布关系</a></li>
<li class="chapter" data-level="1.1.2" data-path="causal.html"><a href="causal.html#绘制数据间关系"><i class="fa fa-check"></i><b>1.1.2</b> 绘制数据间关系</a></li>
<li class="chapter" data-level="1.1.3" data-path="causal.html"><a href="causal.html#绘制其他图形"><i class="fa fa-check"></i><b>1.1.3</b> 绘制其他图形</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="causal.html"><a href="causal.html#修改图形参数"><i class="fa fa-check"></i><b>1.2</b> 修改图形参数</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="causal.html"><a href="causal.html#修改颜色"><i class="fa fa-check"></i><b>1.2.1</b> 修改颜色</a></li>
<li class="chapter" data-level="1.2.2" data-path="causal.html"><a href="causal.html#修改点符号与线条"><i class="fa fa-check"></i><b>1.2.2</b> 修改点符号与线条</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="causal.html"><a href="causal.html#绘制组合图形"><i class="fa fa-check"></i><b>1.3</b> 绘制组合图形</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="causal.html"><a href="causal.html#par"><i class="fa fa-check"></i><b>1.3.1</b> par()</a></li>
<li class="chapter" data-level="1.3.2" data-path="causal.html"><a href="causal.html#layout"><i class="fa fa-check"></i><b>1.3.2</b> layout</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="causal.html"><a href="causal.html#保存图形"><i class="fa fa-check"></i><b>1.4</b> 保存图形</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="causal.html"><a href="causal.html#使用代码"><i class="fa fa-check"></i><b>1.4.1</b> 使用代码</a></li>
<li class="chapter" data-level="1.4.2" data-path="causal.html"><a href="causal.html#在-rstudio-窗口点击按钮保存"><i class="fa fa-check"></i><b>1.4.2</b> 在 Rstudio 窗口点击按钮保存</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html"><i class="fa fa-check"></i><b>2</b> 使用 ggplot2 包绘图</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#简介-1"><i class="fa fa-check"></i><b>2.1</b> 简介</a></li>
<li class="chapter" data-level="2.2" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#qplot"><i class="fa fa-check"></i><b>2.2</b> qplot</a></li>
<li class="chapter" data-level="2.3" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#ggplot2包图形语法"><i class="fa fa-check"></i><b>2.3</b> ggplot2包图形语法</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#对比不同画图语法"><i class="fa fa-check"></i><b>2.3.1</b> 对比不同画图语法</a></li>
<li class="chapter" data-level="2.3.2" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#思想介绍"><i class="fa fa-check"></i><b>2.3.2</b> 思想介绍</a></li>
<li class="chapter" data-level="2.3.3" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#全局变量-vs.-局部变量"><i class="fa fa-check"></i><b>2.3.3</b> 全局变量 vs. 局部变量</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#几何对象"><i class="fa fa-check"></i><b>2.4</b> 几何对象</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#参考书籍"><i class="fa fa-check"></i><b>2.4.1</b> 参考书籍</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#统计变换"><i class="fa fa-check"></i><b>2.5</b> 统计变换</a></li>
<li class="chapter" data-level="2.6" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#刻度scale"><i class="fa fa-check"></i><b>2.6</b> 刻度scale</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#丰富的刻度体系"><i class="fa fa-check"></i><b>2.6.1</b> 丰富的刻度体系</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#坐标系"><i class="fa fa-check"></i><b>2.7</b> 坐标系</a></li>
<li class="chapter" data-level="2.8" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#分面"><i class="fa fa-check"></i><b>2.8</b> 分面</a></li>
<li class="chapter" data-level="2.9" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#标题标注指南拼接"><i class="fa fa-check"></i><b>2.9</b> 标题、标注、指南、拼接</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#标题"><i class="fa fa-check"></i><b>2.9.1</b> 标题</a></li>
<li class="chapter" data-level="2.9.2" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#标注功能"><i class="fa fa-check"></i><b>2.9.2</b> 标注功能</a></li>
<li class="chapter" data-level="2.9.3" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#指南"><i class="fa fa-check"></i><b>2.9.3</b> 指南</a></li>
<li class="chapter" data-level="2.9.4" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#主题"><i class="fa fa-check"></i><b>2.9.4</b> 主题</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#保存图片"><i class="fa fa-check"></i><b>2.10</b> 保存图片</a></li>
<li class="chapter" data-level="2.11" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#例子"><i class="fa fa-check"></i><b>2.11</b> 例子</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#柱状图误差项"><i class="fa fa-check"></i><b>2.11.1</b> 柱状图+误差项</a></li>
<li class="chapter" data-level="2.11.2" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#有正值和负值的柱形图"><i class="fa fa-check"></i><b>2.11.2</b> 有正值和负值的柱形图</a></li>
<li class="chapter" data-level="2.11.3" data-path="ggplot2-plot.html"><a href="ggplot2-plot.html#合并两图"><i class="fa fa-check"></i><b>2.11.3</b> 合并两图</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="other-packages.html"><a href="other-packages.html"><i class="fa fa-check"></i><b>3</b> 其他相关拓展包</a>
<ul>
<li class="chapter" data-level="3.1" data-path="other-packages.html"><a href="other-packages.html#ggplot官网-108-种拓展包"><i class="fa fa-check"></i><b>3.1</b> ggplot官网 108 种拓展包</a></li>
<li class="chapter" data-level="3.2" data-path="other-packages.html"><a href="other-packages.html#我整理的-11-个扩展包"><i class="fa fa-check"></i><b>3.2</b> 我整理的 11 个扩展包</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="interactive-ploting.html"><a href="interactive-ploting.html"><i class="fa fa-check"></i><b>4</b> 认识交互式绘图工具</a>
<ul>
<li class="chapter" data-level="4.1" data-path="interactive-ploting.html"><a href="interactive-ploting.html#leaflet包"><i class="fa fa-check"></i><b>4.1</b> leaflet包</a></li>
<li class="chapter" data-level="4.2" data-path="interactive-ploting.html"><a href="interactive-ploting.html#dygraphs包"><i class="fa fa-check"></i><b>4.2</b> dygraphs包</a></li>
<li class="chapter" data-level="4.3" data-path="interactive-ploting.html"><a href="interactive-ploting.html#plotly包"><i class="fa fa-check"></i><b>4.3</b> plotly包</a></li>
<li class="chapter" data-level="4.4" data-path="interactive-ploting.html"><a href="interactive-ploting.html#dt包"><i class="fa fa-check"></i><b>4.4</b> DT包</a></li>
<li class="chapter" data-level="4.5" data-path="interactive-ploting.html"><a href="interactive-ploting.html#networkd3包"><i class="fa fa-check"></i><b>4.5</b> networkD3包</a></li>
<li class="chapter" data-level="4.6" data-path="interactive-ploting.html"><a href="interactive-ploting.html#利用shiny包实现可交互的web应用待补充-更新可见公众号"><i class="fa fa-check"></i><b>4.6</b> 利用Shiny包实现可交互的Web应用（待补充-更新可见公众号）</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>5</b> 附录</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#安装r和rstudio"><i class="fa fa-check"></i>安装R和Rstudio</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#安装-r"><i class="fa fa-check"></i>安装 R</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#安装rstudio"><i class="fa fa-check"></i>安装RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#可能的问题"><i class="fa fa-check"></i>可能的问题</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#如何获取帮助"><i class="fa fa-check"></i>如何获取帮助</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#r-语言社区"><i class="fa fa-check"></i>R 语言社区</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reference.html"><a href="reference.html"><i class="fa fa-check"></i><b>6</b> 参考书籍</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">庄闪闪的可视化手册</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="causal" class="section level1" number="1">
<h1><span class="header-section-number">1</span> 基础包</h1>
<div id="绘制基本图形" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> 绘制基本图形</h2>
<div id="绘制分布关系" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> 绘制分布关系</h3>
<p>数据的数字特征刻画了数据的主要特征，而对数据总体情况做全面描述时，研究人员需要研究数据的分布情况。</p>
<p><strong>主要方法</strong>：绘制相应的图形，如直方图，条形图、饼图、箱线图等。</p>
<div id="直方图" class="section level4" number="1.1.1.1">
<h4><span class="header-section-number">1.1.1.1</span> 直方图</h4>
<p><strong>概念介绍</strong>：直方图（Histogram）由一系列高度不等的纵向条纹或者线段表示数据分布的情况。</p>
<p><strong>注意</strong>：一般用横轴表示数据所属类别，纵轴表示数量或者占比。</p>
<p><strong>适用</strong>：连续数据。</p>
<p><strong>例子</strong>：我们使用模拟数据进行讲解，通过正态分布产生30个数据。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="causal.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 数据模拟产生</span></span>
<span id="cb1-2"><a href="causal.html#cb1-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">30</span>, <span class="at">mean =</span> <span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb1-3"><a href="causal.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(x, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>##  [1]  8.59 10.43  8.16 12.94 11.03  9.22  8.32  8.23 11.93 10.97  9.67  8.71
## [13] 10.58 11.90  9.16  8.75 11.24  9.65  9.22  9.27  9.02  8.69  8.58 10.23
## [25] 10.10 10.18 10.80  9.49 10.55  9.31</code></pre>
<p><code>hist()</code>中的<code>breaks()</code>可以分段区间，取值可以是一个向量（各区间端点）或者一个数字（拆分为多少段），或者一个字符串（计算划分区间的算法名称），或者一个函数（划分区间个数的方法）。这里给出例子</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="causal.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">breaks =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="causal.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="dv">15</span>), <span class="at">breaks =</span> <span class="dv">3</span>, <span class="at">main =</span> <span class="st">&quot;正态随机数&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;频数&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-3-2.png" width="672" style="display: block; margin: auto;" /></p>
<p><code>breaks = 3</code>表示x轴分为3个节点。其他设置可参考帮助文档，即<code>?hist</code>。这里加入其他参数<code>col，main，xlab，ylab</code>，分别表示颜色，主题名称，x轴名称，y轴名称设置。细节将会在下面一章进行详细解释。</p>
<p>函数<code>density()</code>估计核密度。<code>freq=FALSE</code>绘制频率图。下面的程序作直方图，并使用<code>lines()</code>函数添加核密度曲线：</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="causal.html#cb5-1" aria-hidden="true" tabindex="-1"></a>tmp.dens <span class="ot">&lt;-</span> <span class="fu">density</span>(x)</span>
<span id="cb5-2"><a href="causal.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">freq =</span> <span class="cn">FALSE</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(tmp.dens<span class="sc">$</span>y) <span class="sc">+</span> <span class="fl">0.1</span>), <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="dv">15</span>), <span class="at">main =</span> <span class="st">&quot;正态随机数&quot;</span>, </span>
<span id="cb5-3"><a href="causal.html#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;频率&quot;</span>)</span>
<span id="cb5-4"><a href="causal.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(tmp.dens, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="条形图" class="section level4" number="1.1.1.2">
<h4><span class="header-section-number">1.1.1.2</span> 条形图</h4>
<p><strong>概念介绍</strong>：数量的多少画成长短不同的直条，然后把这些直条按一定的顺序排列起来。</p>
<p><strong>注意</strong>：条形图的x轴是数据类别（<strong>离散型</strong>），y轴是相应类别的频数。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="causal.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 复现课件中的条形图</span></span>
<span id="cb6-2"><a href="causal.html#cb6-2" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">=</span> <span class="fu">table</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;F&quot;</span>, <span class="dv">12</span>), <span class="fu">rep</span>(<span class="st">&quot;M&quot;</span>, <span class="dv">20</span>)))</span>
<span id="cb6-3"><a href="causal.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(gender, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>), <span class="at">main =</span> <span class="st">&quot;性别分布&quot;</span>, <span class="at">horiz =</span> T)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>数据介绍</strong>：<code>VADeaths</code>数据集记录的是1940年Viginia(弗吉尼亚洲)不同人群（<code>Rural Male、Rural Female 、Urban Male、Urban Female</code>）中每一千人的死亡情况。</p>
<p><strong>例子</strong>：数据前6行展示如下：</p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Rural Male</th>
<th align="right">Rural Female</th>
<th align="right">Urban Male</th>
<th align="right">Urban Female</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">50-54</td>
<td align="right">11.7</td>
<td align="right">8.7</td>
<td align="right">15.4</td>
<td align="right">8.4</td>
</tr>
<tr class="even">
<td align="left">55-59</td>
<td align="right">18.1</td>
<td align="right">11.7</td>
<td align="right">24.3</td>
<td align="right">13.6</td>
</tr>
<tr class="odd">
<td align="left">60-64</td>
<td align="right">26.9</td>
<td align="right">20.3</td>
<td align="right">37.0</td>
<td align="right">19.3</td>
</tr>
<tr class="even">
<td align="left">65-69</td>
<td align="right">41.0</td>
<td align="right">30.9</td>
<td align="right">54.6</td>
<td align="right">35.1</td>
</tr>
<tr class="odd">
<td align="left">70-74</td>
<td align="right">66.0</td>
<td align="right">54.3</td>
<td align="right">71.1</td>
<td align="right">50.0</td>
</tr>
</tbody>
</table>
<p>这里绘制该数据的条形图。<code>beside</code>默认值为FALSE，每一列都将给出堆砌的“子条”高度，若 <code>beside=TRUE</code>，则每一列都表示一个分组并列</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="causal.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(VADeaths)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="causal.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(VADeaths, <span class="at">beside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-7-2.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>结论：</strong>随着年龄的增长，<code>Viginia</code>人群的死亡率逐渐增加，并且在4类人群中， <code>Urban Male</code>的死亡率比同年龄段的其他群体的死亡率高。同时，在同一环境下，相同年龄段的男性的死亡率要比女性高。</p>
</div>
<div id="饼图" class="section level4" number="1.1.1.3">
<h4><span class="header-section-number">1.1.1.3</span> 饼图</h4>
<p><strong>概念介绍</strong>：将各项的大小与各项总和的比例。反映部分与部分、部分与整体之间的比例关系。</p>
<p><strong>例子</strong>：</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="causal.html#cb9-1" aria-hidden="true" tabindex="-1"></a>percent <span class="ot">&lt;-</span> <span class="fu">colSums</span>(VADeaths) <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="fu">sum</span>(VADeaths)</span>
<span id="cb9-2"><a href="causal.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(percent, <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="fu">colnames</span>(VADeaths), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="fu">round</span>(percent, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>))</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="causal.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(percent, <span class="at">radius =</span> <span class="fl">0.8</span>)  <span class="co">#init.angle</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-8-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="causal.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ?pie</span></span></code></pre></div>
<p><strong>结论：</strong>Virginia人群中死亡最高的是Urban Male，而且男性的死亡率比女性死亡率要高。</p>
</div>
<div id="箱线图" class="section level4" number="1.1.1.4">
<h4><span class="header-section-number">1.1.1.4</span> 箱线图</h4>
<p><strong>概念介绍</strong>：绘制须使用常用的统计量（最小值、下四分位数、中位数、上四分位数和最大值），并提供有关数据位置和分散情况的关键信息，尤其在比较不同特征时，更可表现其分散程度差异。</p>
<p><strong>数据介绍</strong>：iris数据集（鸢尾花数据集），是常用的分类实验数据集合，由Fisher在1936年收集整理。数据集包含了150个子数据集，分为3类（分别为setosa、versicolor、virginica），每类50个数据，每个数据包含4个属性，即花萼长度Sepal.Length 、花萼宽度Sepal.Width、花瓣长度Petal.Length、花瓣宽度Petal.Width。</p>
<p>前6行数据如下：</p>
<table>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p><strong>例子</strong>：
使用箱线图进行分析，使用两种方法：单独分析四个变量内部的数据分布情况；组间比较（Sepal.Length ~ Species）注意这里的x应该是因子型。这里没有对其他参数进行添加，大家根据自己需求添加即可。</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="causal.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(iris)</span>
<span id="cb12-2"><a href="causal.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(iris[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="at">main =</span> <span class="st">&quot;单独的箱线图&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="causal.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Sepal.Length <span class="sc">~</span> Species, <span class="at">data =</span> iris, <span class="at">main =</span> <span class="st">&quot;组间比较的箱线图&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-10-2.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>结论：</strong>第一个图：Sepal.Width列含有四个异常值。</p>
<p>第二个图：Sepal.Length列中，类别属于virginica的数据含有一个异常值。同时，从第一个图可以看到，Petal.Length列前半部分相对分散，而后半部分相对密集。</p>
</div>
</div>
<div id="绘制数据间关系" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> 绘制数据间关系</h3>
<p><strong>概念介绍</strong>：在分析数据间关系时，常用散点图和多变量相关矩阵图查看数据间的相关关系。</p>
<div id="散点图" class="section level4" number="1.1.2.1">
<h4><span class="header-section-number">1.1.2.1</span> 散点图</h4>
<p><strong>特点：</strong></p>
<ol style="list-style-type: decimal">
<li><p>特征之间是否存在关联趋势，关联趋势是线性的还是非线性的。</p></li>
<li><p>一目了然的看出离群值。从而可以进一步分析这些离群值是否可能在建模分析中产生很大的影响。</p></li>
</ol>
<p><strong>例子</strong>：使用cars数据进行分析速度（speed）和刹车距离（dist）之间的关系</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="causal.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cars[, <span class="dv">1</span>], cars[, <span class="dv">2</span>], <span class="at">xlab =</span> <span class="st">&quot;speed&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;dist&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="causal.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(cars) # 效果同上</span></span></code></pre></div>
<p><strong>结论：</strong>随着汽车行驶速度的增加，刹车距离也在不断增加。</p>
</div>
<div id="散点矩阵图" class="section level4" number="1.1.2.2">
<h4><span class="header-section-number">1.1.2.2</span> 散点矩阵图</h4>
<p><strong>概念介绍</strong>：散点矩阵图将多个散点图组合起来，以便可以同时浏览多个二元变量关系，一定程度上克服了在平面上展示高维数据分布情况的困难。可以使用<code>plot()</code>或者<code>pairs()</code>进行绘制。</p>
<p><strong>适用</strong>：高维数据</p>
<ul>
<li><strong>plot</strong></li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="causal.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iris[, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>结论：</strong>花瓣长度（Petal.length）与花瓣宽度（Petal.Width）有明显的线性关系，其余属性之间的关系不是很明显。</p>
<ul>
<li><strong>pairs</strong></li>
</ul>
<p>此外，R中还提供了另一个绘制散点矩阵图的函数——pairs函数，绘图对象有<strong>数据框</strong>和<strong>公式</strong>两种：</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="causal.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(iris[, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span>
<span id="cb17-2"><a href="causal.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(<span class="sc">~</span>Sepal.Length <span class="sc">+</span> Sepal.Width <span class="sc">+</span> Petal.Length <span class="sc">+</span> Petal.Width, <span class="at">data =</span> iris)  <span class="co"># 效果同上</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="多变量相关矩阵图" class="section level4" number="1.1.2.3">
<h4><span class="header-section-number">1.1.2.3</span> 多变量相关矩阵图</h4>
<p><strong>概念介绍</strong>：多变量相关矩阵图是<strong>相关系数矩阵</strong>（correlation matrix）的可视化结果，显示了两两变量间的相关关系，对数据维度相对较大的数据有较好的展示效果。在R的<code>corrgram</code>包中的<code>corrgram</code>函数可绘制多变量相关矩阵图。</p>
<p><strong>数据介绍</strong>：Mtcar数据集是1974年Motor Trend US杂志公布的32辆车的11个数据，包括燃料消耗和10个关于汽车设计与性能的数据。</p>
<p><strong>例子</strong>：下面、根据这个数据集，绘制适用中不同元素描述相关性大小的图。</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="causal.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrgram)</span>
<span id="cb18-2"><a href="causal.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrgram</span>(mtcars)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-14-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="causal.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">corrgram</span>(mtcars, <span class="at">order =</span> <span class="cn">TRUE</span>, <span class="at">upper.panel =</span> panel.ellipse, <span class="at">main =</span> <span class="st">&quot;Correlogram of mtcars intercorrelations&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-14-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="causal.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 相关图，主对角线上方绘制置信椭圆和平滑拟合曲线，主对角线下方绘制阴影</span></span></code></pre></div>
<p><strong>结论</strong>：<code>disp</code>与<code>cyl</code>呈正相关关系，且相关程度较高。此外，<code>mpg</code>与<code>wt</code>呈高度负相关，且<code>am</code>与<code>carb</code>基本没有关系。</p>
<p>这里可以对<code>upper.panel</code>和<code>lower.panel</code>进行设置，展示不同图形。具体可以通过帮助获得相信参数设置信息（<code>?corrgram</code>）</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="causal.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 相关图，主对角线上方绘制散点图，主对角线下方绘制饼图</span></span>
<span id="cb21-2"><a href="causal.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrgram</span>(mtcars, <span class="at">order =</span> <span class="cn">TRUE</span>, <span class="at">upper.panel =</span> panel.pts, <span class="at">lower.panel =</span> panel.pie, </span>
<span id="cb21-3"><a href="causal.html#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">&quot;Correlogram of mtcars intercorrelations&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="causal.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 相关图，主对角线上方绘制置信区间，主对角线下方绘制相关系数</span></span>
<span id="cb22-2"><a href="causal.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrgram</span>(mtcars, <span class="at">order =</span> <span class="cn">TRUE</span>, <span class="at">upper.panel =</span> panel.conf, <span class="at">lower.panel =</span> panel.cor, </span>
<span id="cb22-3"><a href="causal.html#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">&quot;Correlogram of mtcars intercorrelations&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="绘制其他图形" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> 绘制其他图形</h3>
<div id="核密度图" class="section level4" number="1.1.3.1">
<h4><span class="header-section-number">1.1.3.1</span> 核密度图</h4>
<p><strong>概念介绍</strong>：sm包中<code>sm.density.compare</code>函数用于绘制核密度图，核密度图如果想用一条密度曲线而不是通过柱状来展示连续型变量的分布。</p>
<p><strong>特点</strong>：相比直方图，密度图的一个优势是可以堆放，可用于比较组间差异。<code>sm.density.compare</code>函数可以直接堆放多条密度曲线。使用格式如下。</p>
<p><code>sm.density.compare(x ,group,….)</code></p>
<p>其中x是数值向量，group是分组向量，是因子型数据。</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="causal.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sm)  <span class="co"># 加载sm包</span></span>
<span id="cb23-2"><a href="causal.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sm.density.compare</span>(mtcars<span class="sc">$</span>wt, <span class="fu">factor</span>(mtcars<span class="sc">$</span>cyl))  <span class="co"># 绘制核密度图</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="小提琴图" class="section level4" number="1.1.3.2">
<h4><span class="header-section-number">1.1.3.2</span> 小提琴图</h4>
<p><strong>概念介绍</strong>：vioplot包中的vioplot函数用于绘制小提琴图，小提琴图是核密度图与箱线图的结合，本质是利用密度值生成的多边形，但该多边形同时还沿着一条直线作了另一半对称的“镜像”，这样两个左右或上下对称的多边形拼起来就形成了小提琴图的主体部分，最后一个箱线图也会被添加在小提琴的中轴线上。</p>
<p>使用格式如下。</p>
<p><code>vioplot( x , ...,  range=1.5,  h,  ylim, names,  horizontal=FALSE , …)</code></p>
<p>其中，x为数据源，可以是向量；range默认等于1.5；col是为每幅小提琴图指定颜色的向量。</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="causal.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vioplot)  <span class="co"># 加载vioplot包</span></span>
<span id="cb24-2"><a href="causal.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(mtcars)</span>
<span id="cb24-3"><a href="causal.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">vioplot</span>(wt[cyl <span class="sc">==</span> <span class="dv">4</span>], wt[cyl <span class="sc">==</span> <span class="dv">6</span>], wt[cyl <span class="sc">==</span> <span class="dv">8</span>], <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">col =</span> <span class="st">&quot;gray60&quot;</span>, </span>
<span id="cb24-4"><a href="causal.html#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">rectCol =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">horizontal =</span> <span class="cn">TRUE</span>, <span class="at">main =</span> <span class="st">&quot;小提琴图&quot;</span>)  <span class="co"># 绘制小提琴图</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="causal.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(wt <span class="sc">~</span> cyl, <span class="at">main =</span> <span class="st">&quot;箱线图&quot;</span>, <span class="at">horizontal =</span> <span class="cn">TRUE</span>, <span class="at">pars =</span> <span class="fu">list</span>(<span class="at">boxwex =</span> <span class="fl">0.1</span>), </span>
<span id="cb25-2"><a href="causal.html#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;blue&quot;</span>)  <span class="co"># 绘制箱线图</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-18-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="qq图" class="section level4" number="1.1.3.3">
<h4><span class="header-section-number">1.1.3.3</span> QQ图</h4>
<p><strong>概念介绍</strong>：查看经验分布和理论分布是否一致。将排序后的数据和理论分布的分位数进行比较后大致相等，说明了经验分布和理论分布相似。<code>qqplot()</code>函数用于绘制QQ图，QQ图检查数据是否服从某种分布。</p>
<p>使用格式如下:</p>
<p><code>qqplot(x, y,,...);qqnorm(y,…) ; qqline(y)</code></p>
<p>其中，x与y均为数据源，可以是向量。</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="causal.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(wt)  <span class="co">#正态分布QQ图</span></span>
<span id="cb26-2"><a href="causal.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qqline</span>(wt)  <span class="co">#QQ线</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="等高图" class="section level4" number="1.1.3.4">
<h4><span class="header-section-number">1.1.3.4</span> 等高图</h4>
<p><strong>概念介绍</strong>：数据形式：两个数值向量x、y和一个相应的矩阵z。x、y交叉组合之后形成的是一个“网格”，z是这个网格上的高度数值，将平面上对应的z值（高度）相等的点连接起来形成的线就是等高线。对x、y进行核密度估计，得到一个密度值矩阵，然后用x、y以及这个密度值矩阵作等高图。由于密度值反映的是某个位置上数据的密集程度，等高图就展示了一个聚类现象。</p>
<p>使用格式如下</p>
<p><code>contour(x=,y=,z,nlevels=,levels=,labels= ,method=,...)</code></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="causal.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(KernSmooth)  <span class="co"># 计算二维核密度的包</span></span>
<span id="cb27-2"><a href="causal.html#cb27-2" aria-hidden="true" tabindex="-1"></a>mtcars1 <span class="ot">=</span> <span class="fu">data.frame</span>(wt, mpg)</span>
<span id="cb27-3"><a href="causal.html#cb27-3" aria-hidden="true" tabindex="-1"></a>est <span class="ot">=</span> <span class="fu">bkde2D</span>(mtcars1, <span class="fu">apply</span>(mtcars1, <span class="dv">2</span>, dpik))  <span class="co"># 计算二维核密度</span></span>
<span id="cb27-4"><a href="causal.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(est<span class="sc">$</span>x1, est<span class="sc">$</span>x2, est<span class="sc">$</span>fhat, <span class="at">nlevels =</span> <span class="dv">15</span>, <span class="at">col =</span> <span class="st">&quot;darkgreen&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;wt&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;mpg&quot;</span>)  <span class="co"># 画等高图</span></span>
<span id="cb27-5"><a href="causal.html#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(mtcars1)  <span class="co"># 添加散点</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="修改图形参数" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> 修改图形参数</h2>
<p>R是一个功能强大的图形构建平台,可以通过逐条输入语句构建图形元素（<strong>颜色、点、线、文本以及图例</strong>等），逐渐完善图形特征，直至得到想要的效果。图形元素的显示可以用图形函数和绘图参数来改良，也可以用绘制图形元素的基础函数来控制。</p>
<div id="修改颜色" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> 修改颜色</h3>
<p>R语言通过设置绘图参数col来改变<strong>图像、坐标轴、文字、点、线</strong>等的颜色。关于颜色的函数大致可以分为下面三类：</p>
<div id="固定颜色选择函数" class="section level4" number="1.2.1.1">
<h4><span class="header-section-number">1.2.1.1</span> 固定颜色选择函数</h4>
<p>R语言提供了自带的固定种类的颜色，主要涉及的是colors函数，该函数可以生成657中颜色名称，代表657种颜色，可以通过以下代码查看R自带颜色的前20中颜色的名称。</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="causal.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colors</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;white&quot;         &quot;aliceblue&quot;     &quot;antiquewhite&quot;  &quot;antiquewhite1&quot;
##  [5] &quot;antiquewhite2&quot; &quot;antiquewhite3&quot; &quot;antiquewhite4&quot; &quot;aquamarine&quot;   
##  [9] &quot;aquamarine1&quot;   &quot;aquamarine2&quot;   &quot;aquamarine3&quot;   &quot;aquamarine4&quot;  
## [13] &quot;azure&quot;         &quot;azure1&quot;        &quot;azure2&quot;        &quot;azure3&quot;       
## [17] &quot;azure4&quot;        &quot;beige&quot;         &quot;bisque&quot;        &quot;bisque1&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="causal.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># colors()</span></span>
<span id="cb30-2"><a href="causal.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">col =</span> <span class="fu">cm.colors</span>(<span class="dv">1</span>))</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-21-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>通过palette函数固定调色板，只要设定好了调色板，它的取值就不会再改变（直到下一次重新设定调色板）。</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="causal.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">palette</span>()  <span class="co">#返回当前的调色板设置，此时为默认值</span></span>
<span id="cb31-2"><a href="causal.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;black&quot;   &quot;#DF536B&quot; &quot;#61D04F&quot; &quot;#2297E6&quot; &quot;#28E2E5&quot; &quot;#CD0BBC&quot; &quot;#F5C710&quot;</span></span>
<span id="cb31-3"><a href="causal.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [8] &quot;gray62&quot;</span></span>
<span id="cb31-4"><a href="causal.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">palette</span>(<span class="fu">colors</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])  <span class="co">#重新设置调色板为colors的前10种颜色</span></span>
<span id="cb31-5"><a href="causal.html#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">palette</span>()  <span class="co">#返回当前的调色板设置，此时为colors()的前10种颜色</span></span>
<span id="cb31-6"><a href="causal.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;white&quot;         &quot;aliceblue&quot;     &quot;antiquewhite&quot;  &quot;antiquewhite1&quot;</span></span>
<span id="cb31-7"><a href="causal.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;antiquewhite2&quot; &quot;antiquewhite3&quot; &quot;antiquewhite4&quot; &quot;aquamarine&quot;   </span></span>
<span id="cb31-8"><a href="causal.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;aquamarine&quot;    &quot;aquamarine2&quot;</span></span>
<span id="cb31-9"><a href="causal.html#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="fu">palette</span>(<span class="st">&quot;default&quot;</span>)  <span class="co">#恢复默认的调色板设置</span></span></code></pre></div>
<p><strong>例子</strong>：</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="causal.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Sepal.Width, <span class="at">col =</span> iris<span class="sc">$</span>Species)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="causal.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Species为因子型数据,setosa versicolor virginica分别对应数字1，2，3，</span></span>
<span id="cb33-2"><a href="causal.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 即等价于col = rep(1:3, each = 50)</span></span></code></pre></div>
</div>
<div id="渐变色生成函数" class="section level4" number="1.2.1.2">
<h4><span class="header-section-number">1.2.1.2</span> 渐变色生成函数</h4>
<p>除了固定颜色选择函数外，R还提供了一系列渐变颜色生成函数，这些函数用来控制颜色值<strong>逐步变化</strong>。</p>
<p><img src="figure/14.png" /></p>
<p>rgb函数把RGB颜色转化为十六进制数值，使用格式前四个参数都取值于区间[0, max]，names参数用来指定生成颜色向量的名称。red，green，blue参数的值越大就说明该颜色的成分越高。alpha指的是颜色的透明度，取0表示完全透明，取最大值表示完全不透明（默认完全不透明）。</p>
<p><code>rainbow</code>函数、<code>heat.coclor</code>函数、<code>terrain.colors</code>函数、<code>topo.colors</code>函数、<code>cm.colors</code>函数是主题配色函数，使用格式中n设定产生颜色的数目，start和end设定彩虹颜色的一个子集，生成的颜色将从这个子集中选取。</p>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="rcolorbrewer包" class="section level4" number="1.2.1.3">
<h4><span class="header-section-number">1.2.1.3</span> RColorBrewer包</h4>
<p>RColorBrewer包提供了3套配色方案，分别为<strong>连续型，极端型以及离散型</strong>。</p>
<ul>
<li><p><strong>连续型</strong>（Sequential）指生成一系列连续渐变的颜色，通常用来标记连续型数值的大小。共18组颜色，每组分为9个渐变颜色展示。</p></li>
<li><p><strong>极端型</strong>（Diverging）指生成用深色强调两端、浅色标示中部的系列颜色、可用来标记数据中的离群点。共9组颜色，每组分为11个渐变颜色展示。</p></li>
<li><p><strong>离散型</strong>（Qualitative）指生成一系列彼此差异比较明显的颜色，通常用来标记分类数据。共8组颜色，每组渐变颜色数不同。</p></li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="causal.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb34-2"><a href="causal.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb34-3"><a href="causal.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="dv">3</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>))</span>
<span id="cb34-4"><a href="causal.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.all</span>(<span class="at">type =</span> <span class="st">&quot;seq&quot;</span>)</span>
<span id="cb34-5"><a href="causal.html#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.all</span>(<span class="at">type =</span> <span class="st">&quot;div&quot;</span>)</span>
<span id="cb34-6"><a href="causal.html#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.all</span>(<span class="at">type =</span> <span class="st">&quot;qual&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="causal.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb35-2"><a href="causal.html#cb35-2" aria-hidden="true" tabindex="-1"></a>my_col <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">&quot;RdYlGn&quot;</span>)</span>
<span id="cb35-3"><a href="causal.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># brewer.pal(n,name),其中n为颜色的数量，name表示颜色组的名称</span></span>
<span id="cb35-4"><a href="causal.html#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Sepal.Width, <span class="at">col =</span> <span class="fu">rep</span>(my_col, <span class="at">each =</span> <span class="dv">50</span>))</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-26-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="causal.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Sepal.Width, <span class="at">col =</span> <span class="fu">rep</span>(<span class="fu">rainbow</span>(<span class="dv">3</span>), <span class="at">each =</span> <span class="dv">50</span>))</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-26-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="修改点符号与线条" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> 修改点符号与线条</h3>
<div id="点样式" class="section level4" number="1.2.2.1">
<h4><span class="header-section-number">1.2.2.1</span> 点样式</h4>
<p><img src="figure/5.jpg" /></p>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-27-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="causal.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Sepal.Width, <span class="at">pch =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">each =</span> <span class="dv">50</span>))</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="causal.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(1:10,pch=21,cex=1.5,col=&#39;red&#39;,bg = &#39;blue&#39;,lwd=5)</span></span></code></pre></div>
</div>
<div id="线条样式" class="section level4" number="1.2.2.2">
<h4><span class="header-section-number">1.2.2.2</span> 线条样式</h4>
<p>R语言提供了绘制不同类别的线条的多种函数，主要有</p>
<ul>
<li>lines：绘制曲线</li>
<li>abline：绘制直线</li>
<li>segments：绘制线段</li>
<li>arrows：在线段加上箭头</li>
<li>grid：绘制网格线</li>
</ul>
<p><img src="figure/6.jpg" /></p>
<p>以mtcars数据集为例来展示实际绘图过程中线条的应用。</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="causal.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(mtcars)</span>
<span id="cb39-2"><a href="causal.html#cb39-2" aria-hidden="true" tabindex="-1"></a>smpg <span class="ot">=</span> (mpg <span class="sc">-</span> <span class="fu">min</span>(mpg))<span class="sc">/</span>(<span class="fu">max</span>(mpg) <span class="sc">-</span> <span class="fu">min</span>(mpg))</span>
<span id="cb39-3"><a href="causal.html#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(wt, smpg, <span class="at">ylab =</span> <span class="st">&quot;standardized mpg&quot;</span>)</span>
<span id="cb39-4"><a href="causal.html#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加核密度曲线图</span></span>
<span id="cb39-5"><a href="causal.html#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(wt), <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb39-6"><a href="causal.html#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 指向密度曲线的箭头</span></span>
<span id="cb39-7"><a href="causal.html#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="fl">1.8</span>, <span class="fl">0.05</span>, <span class="fl">1.5</span>, <span class="fl">0.1</span>)</span>
<span id="cb39-8"><a href="causal.html#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2</span>, <span class="fl">0.05</span>, <span class="st">&quot;density curve&quot;</span>, <span class="at">cex =</span> <span class="fl">0.6</span>)</span>
<span id="cb39-9"><a href="causal.html#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加回归线</span></span>
<span id="cb39-10"><a href="causal.html#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>(smpg <span class="sc">~</span> wt), <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;green&quot;</span>)</span>
<span id="cb39-11"><a href="causal.html#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 指向回归直线的箭头</span></span>
<span id="cb39-12"><a href="causal.html#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="dv">2</span>, <span class="fl">0.5</span>, <span class="dv">2</span>, <span class="fl">0.7</span>, <span class="at">angle =</span> <span class="dv">10</span>, <span class="at">cex =</span> <span class="fl">0.5</span>)</span>
<span id="cb39-13"><a href="causal.html#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2</span>, <span class="fl">0.45</span>, <span class="st">&quot;regression line&quot;</span>, <span class="at">cex =</span> <span class="fl">0.6</span>)</span>
<span id="cb39-14"><a href="causal.html#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co"># wt与mpg反向线性相关，添加最大最小值线段表现这种关系</span></span>
<span id="cb39-15"><a href="causal.html#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="fu">segments</span>(<span class="fu">min</span>(wt), <span class="fu">max</span>(smpg), <span class="fu">max</span>(wt), <span class="fu">min</span>(smpg), <span class="at">lty =</span> <span class="dv">3</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb39-16"><a href="causal.html#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 指向最大最小值线段的箭头</span></span>
<span id="cb39-17"><a href="causal.html#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="dv">3</span>, <span class="fl">0.8</span>, <span class="fl">2.5</span>, <span class="fl">0.76</span>, <span class="at">angle =</span> <span class="dv">10</span>, <span class="at">cex =</span> <span class="fl">0.5</span>)</span>
<span id="cb39-18"><a href="causal.html#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">3.3</span>, <span class="fl">0.8</span>, <span class="st">&quot;line segments&quot;</span>, <span class="at">cex =</span> <span class="fl">0.6</span>)</span>
<span id="cb39-19"><a href="causal.html#cb39-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加网格线作为背景</span></span>
<span id="cb39-20"><a href="causal.html#cb39-20" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">nx =</span> <span class="dv">4</span>, <span class="at">ny =</span> <span class="dv">5</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-29-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="修改文本参数" class="section level4" number="1.2.2.3">
<h4><span class="header-section-number">1.2.2.3</span> 修改文本参数</h4>
<p>title、text和mtext函数可以在打开的画布上添加文字元素。</p>
<ul>
<li>title可以添加标题元素；</li>
<li>text可以任意位置添加文本;</li>
<li>mtext函数则是在四条边上添加文本。</li>
</ul>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="causal.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb40-2"><a href="causal.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 图一：图形添加标题</span></span>
<span id="cb40-3"><a href="causal.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb40-4"><a href="causal.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> <span class="fu">list</span>(<span class="st">&quot;主标题&quot;</span>, <span class="at">cex =</span> <span class="fl">1.5</span>), <span class="at">sub =</span> <span class="fu">list</span>(<span class="st">&quot;副标题&quot;</span>, <span class="at">cex =</span> <span class="fl">1.2</span>), <span class="at">xlab =</span> <span class="st">&quot;x轴标题&quot;</span>, </span>
<span id="cb40-5"><a href="causal.html#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">&quot;y轴标题&quot;</span>)</span>
<span id="cb40-6"><a href="causal.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 图二：图形周边添加文本</span></span>
<span id="cb40-7"><a href="causal.html#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb40-8"><a href="causal.html#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&quot;side=1:下边&quot;</span>, <span class="at">side =</span> <span class="dv">1</span>, <span class="at">line =</span> <span class="dv">2</span>)</span>
<span id="cb40-9"><a href="causal.html#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&quot;side=2:左边&quot;</span>, <span class="at">side =</span> <span class="dv">2</span>, <span class="at">line =</span> <span class="dv">2</span>)</span>
<span id="cb40-10"><a href="causal.html#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&quot;side=3:上边&quot;</span>, <span class="at">side =</span> <span class="dv">3</span>)</span>
<span id="cb40-11"><a href="causal.html#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&quot;side=4:右边&quot;</span>, <span class="at">side =</span> <span class="dv">4</span>)</span>
<span id="cb40-12"><a href="causal.html#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 图三：字体展示</span></span>
<span id="cb40-13"><a href="causal.html#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb40-14"><a href="causal.html#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="at">labels =</span> <span class="st">&quot;font=1:正常字体（默认）&quot;</span>, <span class="at">font =</span> <span class="dv">1</span>)</span>
<span id="cb40-15"><a href="causal.html#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="at">labels =</span> <span class="st">&quot;font=2:粗体字体&quot;</span>, <span class="at">font =</span> <span class="dv">2</span>)</span>
<span id="cb40-16"><a href="causal.html#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="at">labels =</span> <span class="st">&quot;font=3:斜体字体&quot;</span>, <span class="at">font =</span> <span class="dv">3</span>)</span>
<span id="cb40-17"><a href="causal.html#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="at">labels =</span> <span class="st">&quot;font=4:粗斜体字体&quot;</span>, <span class="at">font =</span> <span class="dv">4</span>)</span>
<span id="cb40-18"><a href="causal.html#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 图四：字体大小展示</span></span>
<span id="cb40-19"><a href="causal.html#cb40-19" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">6</span>), <span class="at">col =</span> <span class="st">&quot;white&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>))</span>
<span id="cb40-20"><a href="causal.html#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="at">labels =</span> <span class="st">&quot;cex=0.5:放大0.5倍&quot;</span>, <span class="at">cex =</span> <span class="fl">0.5</span>)</span>
<span id="cb40-21"><a href="causal.html#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="at">labels =</span> <span class="st">&quot;cex=0.8:放大0.8倍&quot;</span>, <span class="at">cex =</span> <span class="fl">0.8</span>)</span>
<span id="cb40-22"><a href="causal.html#cb40-22" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="at">labels =</span> <span class="st">&quot;cex=1(默认):正常大小&quot;</span>, <span class="at">cex =</span> <span class="dv">1</span>)</span>
<span id="cb40-23"><a href="causal.html#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">5</span>, <span class="dv">2</span>, <span class="at">labels =</span> <span class="st">&quot;cex=1.2:放大1.2倍&quot;</span>, <span class="at">cex =</span> <span class="fl">1.2</span>)</span>
<span id="cb40-24"><a href="causal.html#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">6</span>, <span class="dv">1</span>, <span class="at">labels =</span> <span class="st">&quot;cex=1.5:放大1.5倍&quot;</span>, <span class="at">cex =</span> <span class="fl">1.5</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-30-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>例子</strong>：</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="causal.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(mtcars)</span>
<span id="cb41-2"><a href="causal.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(wt, mpg, <span class="at">xlab =</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Miles/(US) gallon&quot;</span>)  <span class="co">#绘图，并修改x，y轴的标题</span></span>
<span id="cb41-3"><a href="causal.html#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> <span class="fu">list</span>(<span class="st">&quot;mtcars wt V.S. mpg&quot;</span>, <span class="at">cex =</span> <span class="fl">1.5</span>))  <span class="co"># 添加标题</span></span>
<span id="cb41-4"><a href="causal.html#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">4.5</span>, <span class="dv">34</span>, <span class="at">labels =</span> <span class="st">&quot;extracted from the 1974&quot;</span>, <span class="at">cex =</span> <span class="fl">1.5</span>)  <span class="co"># 说明数据来源</span></span>
<span id="cb41-5"><a href="causal.html#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">4.5</span>, <span class="dv">32</span>, <span class="at">labels =</span> <span class="st">&quot;Motor Trend US&quot;</span>, <span class="at">font =</span> <span class="dv">3</span>)  <span class="co"># 杂志名称</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-31-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="设置坐标轴" class="section level4" number="1.2.2.4">
<h4><span class="header-section-number">1.2.2.4</span> 设置坐标轴</h4>
<p>使用<code>axis()</code>进行设置坐标轴。</p>
<p><img src="figure/7.jpg" /></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="causal.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>), <span class="at">col =</span> <span class="st">&quot;white&quot;</span>, <span class="at">xaxt =</span> <span class="st">&quot;n&quot;</span>, <span class="at">yaxt =</span> <span class="st">&quot;n&quot;</span>, <span class="at">ann =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-2"><a href="causal.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">at =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">col.axis =</span> <span class="st">&quot;red&quot;</span>, <span class="at">labels =</span> month.abb)</span>
<span id="cb42-3"><a href="causal.html#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="at">at =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">12</span>, <span class="at">length =</span> <span class="dv">10</span>), <span class="at">col.axis =</span> <span class="st">&quot;red&quot;</span>, <span class="at">labels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">las =</span> <span class="dv">2</span>)</span>
<span id="cb42-4"><a href="causal.html#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">3</span>, <span class="at">at =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">12</span>, <span class="at">length =</span> <span class="dv">7</span>), <span class="at">col.axis =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">cex.axis =</span> <span class="fl">0.7</span>, <span class="at">tck =</span> <span class="sc">-</span><span class="fl">0.01</span>, </span>
<span id="cb42-5"><a href="causal.html#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Mon&quot;</span>, <span class="st">&quot;Tues&quot;</span>, <span class="st">&quot;Wed&quot;</span>, <span class="st">&quot;Thu&quot;</span>, <span class="st">&quot;Fri&quot;</span>, <span class="st">&quot;Sat&quot;</span>, <span class="st">&quot;Sun&quot;</span>))</span>
<span id="cb42-6"><a href="causal.html#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">4</span>, <span class="at">at =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">12</span>, <span class="at">length =</span> <span class="dv">11</span>), <span class="at">col.axis =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">cex.axis =</span> <span class="fl">0.7</span>, <span class="at">tck =</span> <span class="sc">-</span><span class="fl">0.01</span>, </span>
<span id="cb42-7"><a href="causal.html#cb42-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>), <span class="at">las =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-32-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="添加图例" class="section level4" number="1.2.2.5">
<h4><span class="header-section-number">1.2.2.5</span> 添加图例</h4>
<p>legend函数的绘制图例的位置效果</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="causal.html#cb43-1" aria-hidden="true" tabindex="-1"></a>local <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;bottomright&quot;</span>, <span class="st">&quot;bottom&quot;</span>, <span class="st">&quot;bottomleft&quot;</span>, <span class="st">&quot;left&quot;</span>, <span class="st">&quot;topleft&quot;</span>, <span class="st">&quot;top&quot;</span>, <span class="st">&quot;topright&quot;</span>, </span>
<span id="cb43-2"><a href="causal.html#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;right&quot;</span>, <span class="st">&quot;center&quot;</span>)</span>
<span id="cb43-3"><a href="causal.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">2</span>), <span class="at">pty =</span> <span class="st">&quot;m&quot;</span>)</span>
<span id="cb43-4"><a href="causal.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb43-5"><a href="causal.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">3</span>, <span class="dv">8</span>, <span class="st">&quot;图例在(3,8)&quot;</span>)</span>
<span id="cb43-6"><a href="causal.html#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>) {</span>
<span id="cb43-7"><a href="causal.html#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">legend</span>(local[i], <span class="fu">paste</span>(<span class="st">&quot;图例在&quot;</span>, local[i]))</span>
<span id="cb43-8"><a href="causal.html#cb43-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-33-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>综合测试</strong>：</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="causal.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Sepal.Width, <span class="at">col =</span> iris<span class="sc">$</span>Species, <span class="at">main =</span> <span class="fu">list</span>(<span class="st">&quot;鸢尾花的花萼长与宽的散点图&quot;</span>, </span>
<span id="cb44-2"><a href="causal.html#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.5</span>), <span class="at">xlab =</span> <span class="st">&quot;花萼长度&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;花萼宽度&quot;</span>, <span class="at">pch =</span> <span class="dv">19</span>)</span>
<span id="cb44-3"><a href="causal.html#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">nx =</span> <span class="dv">5</span>, <span class="at">ny =</span> <span class="dv">5</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)  <span class="co"># 添加网格线</span></span>
<span id="cb44-4"><a href="causal.html#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">7</span>, <span class="fl">4.5</span>, <span class="fu">c</span>(<span class="st">&quot;setosa&quot;</span>, <span class="st">&quot;versicolor&quot;</span>, <span class="st">&quot;virginica&quot;</span>), <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)  <span class="co"># 添加图例</span></span>
<span id="cb44-5"><a href="causal.html#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">c</span>(<span class="fl">4.3</span>, <span class="fl">6.5</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="fl">4.5</span>), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)  <span class="co"># 添加直线</span></span>
<span id="cb44-6"><a href="causal.html#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows</span>(<span class="dv">6</span>, <span class="dv">4</span>, <span class="fl">6.5</span>, <span class="dv">4</span>, <span class="at">angle =</span> <span class="dv">10</span>, <span class="at">cex =</span> <span class="fl">0.5</span>)  <span class="co"># 添加箭头</span></span>
<span id="cb44-7"><a href="causal.html#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">6.9</span>, <span class="dv">4</span>, <span class="st">&quot;左上角全是setosa&quot;</span>, <span class="at">cex =</span> <span class="fl">0.8</span>)  <span class="co"># 添加文字说明</span></span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-34-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="绘制组合图形" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> 绘制组合图形</h2>
<div id="par" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> par()</h3>
<p>一页多图用mfrow参数或mfcol参数规定。</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="causal.html#cb45-1" aria-hidden="true" tabindex="-1"></a>mfrow1 <span class="ot">=</span> <span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))  <span class="co">#mar=c(2,2,2,2)</span></span>
<span id="cb45-2"><a href="causal.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) {</span>
<span id="cb45-3"><a href="causal.html#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>i), <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;I&#39;m image:&quot;</span>, i))</span>
<span id="cb45-4"><a href="causal.html#cb45-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-35-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="causal.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(mfrow1)</span>
<span id="cb46-2"><a href="causal.html#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="causal.html#cb46-3" aria-hidden="true" tabindex="-1"></a>op <span class="ot">=</span> <span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb46-4"><a href="causal.html#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">pch =</span> <span class="dv">12</span>)</span>
<span id="cb46-5"><a href="causal.html#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb46-6"><a href="causal.html#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb46-7"><a href="causal.html#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-35-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="causal.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(op)</span></code></pre></div>
</div>
<div id="layout" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> layout</h3>
<p>与par函数均分画布不同，layout函数可以不均等的分隔页面</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="causal.html#cb48-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-2"><a href="causal.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(mat)</span>
<span id="cb48-3"><a href="causal.html#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) {</span>
<span id="cb48-4"><a href="causal.html#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>i), <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;I&#39;m image:&quot;</span>, i))</span>
<span id="cb48-5"><a href="causal.html#cb48-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="1001-chapter01_files/figure-html/unnamed-chunk-36-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="保存图形" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> 保存图形</h2>
<div id="使用代码" class="section level3" number="1.4.1">
<h3><span class="header-section-number">1.4.1</span> 使用代码</h3>
<p>对于其他格式输出类似pdf的输出。</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="causal.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="st">&quot;test/2.pdf&quot;</span>)  <span class="co"># 保存到当前工作目录下</span></span>
<span id="cb49-2"><a href="causal.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb49-3"><a href="causal.html#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
</div>
<div id="在-rstudio-窗口点击按钮保存" class="section level3" number="1.4.2">
<h3><span class="header-section-number">1.4.2</span> 在 Rstudio 窗口点击按钮保存</h3>
<div class="figure">
<img src="figure/12.png" alt="" />
<p class="caption">Rstudio界面右下角</p>
</div>
<div class="figure">
<img src="figure/13.png" alt="" />
<p class="caption">自定义设置</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ggplot2-plot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CBook.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
